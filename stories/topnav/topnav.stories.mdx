import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import { html } from "lit-html";
import anatomySVG from "./../../svgs/top-nav.js";
import { unsafeSVG } from "lit-html/directives/unsafe-svg.js";
import { unsafeHTML } from "lit-html/directives/unsafe-html.js";
import { useArgs } from "@storybook/client-api";
import { ConfigUtil } from "@cldcvr/flow-core";
import popoverSampleSnippet from "./popoverSampleSnippet.js";

<Meta
  title="Top nav"
  parameters={{
    docs: {
      inlineStories: false,
    },
  }}
/>

# Top nav

<br />

#### Overview

<br />

Top nav template sits at the top of the product/application. It provides the navigation to the core tasks a user can perform like search, manage profile, notifications, etc.

<br />

###### Anatomy

<hr />

<Story
  name="Anatomy"
  parameters={{
    docs: {
      inlineStories: false,
      iframeHeight: 140,
    },
  }}
>
  {() => html`<f-div>${unsafeSVG(anatomySVG)}</f-div>`}
</Story>

<br />

#### Available templates

<br />

###### top-nav-01

<Canvas>
  <Story
    name="top-nav-01"
    args={{
      open: false,
      theme: "f-dark",
    }}
    parameters={{
      docs: {
        inlineStories: false,
        iframeHeight: 250,
      },
    }}
  >
    {(args) => {
      const [_, updateArgs] = useArgs();
      const toggle = (e, f) => {
        updateArgs({ open: !args.open });
      };
      const setTheme = (theme) => {
        ConfigUtil.setConfig({ theme });
        updateArgs({ ...args, theme });
      };
      return html`
		${unsafeHTML(popoverSampleSnippet)}
	  <f-div
        data-f-id="top-nav"
        padding="medium"
        gap="small"
        state="secondary"
        align="middle-left"
		height="hug-content"
		border="small solid default bottom"
      >
	  <!--Start : top-nav-left -->
        <f-div
          data-f-id="top-nav-left"
          width="hug-content"
          align="middle-center"
        >
          <f-icon source="p-cloudcover-dark" size="large"></f-icon>
        </f-div>
	  <!--End : top-nav-left -->
	  <!--Start : top-nav-middle -->
        <f-div data-f-id="top-nav-middle" gap="small" align="middle-left">
          <f-icon source="i-arrow-left"></f-icon>
          <f-text size="small"
            >Home / Project / Environment / Application / Logs
          </f-text>
        </f-div>
		<!--End : top-nav-middle -->
		<!--START : top-nav-right -->
        <f-div data-f-id="top-nav-right" gap="large" width="hug-content">
          <f-div width="240px">
          <f-search size="small" variant="round" placeholder="Enter search keyword"></f-search>
          </f-div>
            <f-div gap="small" width="hug-content">
            <f-icon-button
              icon="i-icon"
              variant="round"
              size="large"
              state="neutral"
              type="packed"
            ></f-icon-button>
            <f-icon-button
              icon="i-icon"
              variant="round"
              size="large"
              state="neutral"
              type="packed"
            ></f-icon-button>
            <f-icon-button
              icon="i-icon"
              variant="round"
              size="large"
              state="neutral"
              type="packed"
            ></f-icon-button>
          </f-div>
          <f-icon-button
            icon="i-user"
            size="small"
            state="neutral"
            id="profile-popover"
            @click=${toggle}
          ></f-icon-button>
          <f-popover
            size="small"
            @overlay-click=${toggle}
            .open=${args.open}
            target="#profile-popover"
          >
            <f-div direction="column" state="secondary">
              <f-div
                padding="medium"
                gap="small"
                border="small solid default bottom"
              >
                <f-pictogram source="i-user" variant="circle"></f-pictogram>
                <f-div direction="column">
                  <f-text size="x-small" state="secondary">Logged in as</f-text>
                  <f-text>no@email.com</f-text>
                </f-div>
                <f-div align="top-right">
                  <f-icon source="i-edit" state="secondary"></f-icon>
                </f-div>
              </f-div>
              <f-div
                padding="medium"
                gap="small"
                clickable
                state="default"
                .selected=${args.theme === "f-dark" ? "background" : "none"}
                @click=${() => setTheme("f-dark")}
              >
                <f-text>Dark theme</f-text>
                ${args.theme === "f-dark"
                  ? html`<f-icon source="i-tick" state="success"></f-icon>`
                  : ""}
              </f-div>
              <f-div
                padding="medium"
                gap="small"
                border="small solid default bottom"
                clickable
                .selected=${args.theme === "f-light" ? "background" : "none"}
                @click=${() => setTheme("f-light")}
              >
                <f-text>Light theme</f-text>
                ${args.theme === "f-light"
                  ? html`<f-icon source="i-tick" state="success"></f-icon>`
                  : ""}
              </f-div>
              <f-div padding="medium" gap="small" clickable>
                <f-text>Logout</f-text>
              </f-div>
            </f-div>
          </f-popover>
        </f-div>
		<!--END : top-nav-right -->
      </f-div>`;
    }}
  </Story>
</Canvas>

###### top-nav-02

<Canvas>
  <Story
    name="top-nav-02"
    args={{
      open: false,
      theme: "f-dark",
    }}
    parameters={{
      docs: {
        inlineStories: false,
        iframeHeight: 250,
      },
    }}
  >
    {(args) => {
      const [_, updateArgs] = useArgs();
      const toggle = (e, f) => {
        updateArgs({ open: !args.open });
      };
      const setTheme = (theme) => {
        ConfigUtil.setConfig({ theme });
        updateArgs({ ...args, theme });
      };
      return html`
	  ${unsafeHTML(popoverSampleSnippet)}
	  <f-div
        data-f-id="top-nav"
        padding="medium"
        gap="small"
        state="secondary"
        align="middle-left"
		height="hug-content"
		border="small solid default bottom"
      >
	  <!--Start : top-nav-left -->
        <f-div
          data-f-id="top-nav-left"
          width="hug-content"
          align="middle-center"
        >
          <f-icon source="p-cloudcover-dark" size="large"></f-icon>
        </f-div>
       <!--End : top-nav-left -->
		 <!--Start : top-nav-middle -->
        <f-div data-f-id="top-nav-middle" gap="small" align="middle-left" >
          <f-div width="240px">
          <f-search size="small" variant="round" placeholder="Enter search keyword"></f-search>
          </f-div>
          <f-div width="hug-content" gap="small">
            <f-button
              size="small"
              label="label"
              category="transparent"
              state="neutral"
            ></f-button>
            <f-button
              size="small"
              label="label"
              category="transparent"
              state="neutral"
            ></f-button>
            <f-button
              size="small"
              label="label"
              category="transparent"
              state="neutral"
            ></f-button>
            <f-button
              size="small"
              label="label"
              category="transparent"
              state="neutral"
            ></f-button>
          </f-div>
        </f-div>
         <!--End : top-nav-middle -->
		 <!--Start : top-nav-right -->
        <f-div data-f-id="top-nav-right" gap="large" width="hug-content">
          <f-div gap="small" width="hug-content">
            <f-icon-button
              icon="i-icon"
              variant="round"
              size="large"
              state="neutral"
              type="packed"
            ></f-icon-button>
            <f-icon-button
              icon="i-icon"
              variant="round"
              size="large"
              state="neutral"
              type="packed"
            ></f-icon-button>
            <f-icon-button
              icon="i-icon"
              variant="round"
              size="large"
              state="neutral"
              type="packed"
            ></f-icon-button>
          </f-div>
          <f-icon-button
            icon="i-user"
            size="small"
            state="neutral"
            id="profile-popover"
            @click=${toggle}
          ></f-icon-button>
          <f-popover
            size="small"
            @overlay-click=${toggle}
            .open=${args.open}
            target="#profile-popover"
          >
            <f-div direction="column" state="secondary">
              <f-div
                padding="medium"
                gap="small"
                border="small solid default bottom"
              >
                <f-pictogram source="i-user" variant="circle"></f-pictogram>
                <f-div direction="column">
                  <f-text size="x-small" state="secondary">Logged in as</f-text>
                  <f-text>no@email.com</f-text>
                </f-div>
                <f-div align="top-right">
                  <f-icon source="i-edit" state="secondary"></f-icon>
                </f-div>
              </f-div>
              <f-div
                padding="medium"
                gap="small"
                clickable
                state="default"
                .selected=${args.theme === "f-dark" ? "background" : "none"}
                @click=${() => setTheme("f-dark")}
              >
                <f-text>Dark theme</f-text>
                ${args.theme === "f-dark"
                  ? html`<f-icon source="i-tick" state="success"></f-icon>`
                  : ""}
              </f-div>
              <f-div
                padding="medium"
                gap="small"
                border="small solid default bottom"
                clickable
                .selected=${args.theme === "f-light" ? "background" : "none"}
                @click=${() => setTheme("f-light")}
              >
                <f-text>Light theme</f-text>
                ${args.theme === "f-light"
                  ? html`<f-icon source="i-tick" state="success"></f-icon>`
                  : ""}
              </f-div>
              <f-div padding="medium" gap="small" clickable>
                <f-text>Logout</f-text>
              </f-div>
            </f-div>
          </f-popover>
        </f-div>
         <!--Start : top-nav-right -->
      </f-div>`;
    }}
  </Story>
</Canvas>

###### top-nav-03

<Canvas>
  <Story
    name="top-nav-03"
    args={{
      open: false,
      theme: "f-dark",
    }}
    parameters={{
      docs: {
        inlineStories: false,
        iframeHeight: 250,
      },
    }}
  >
    {(args) => {
      const [_, updateArgs] = useArgs();
      const toggle = (e, f) => {
        updateArgs({ open: !args.open });
      };
      const setTheme = (theme) => {
        ConfigUtil.setConfig({ theme });
        updateArgs({ ...args, theme });
      };
      return html`
	  ${unsafeHTML(popoverSampleSnippet)}
	  <f-div
        data-f-id="top-nav"
        padding="medium"
        gap="small"
        state="secondary"
        align="middle-left"
		height="hug-content"
		border="small solid default bottom"
      >
	   <!--Start : top-nav-left -->
        <f-div
          data-f-id="top-nav-left"
          width="hug-content"
          align="middle-center"
        >
          <f-icon source="p-cloudcover-dark" size="large"></f-icon>
        </f-div>
         <!--End : top-nav-left -->
		 <!--Start : top-nav-middle -->
        <f-div data-f-id="top-nav-middle" gap="small" align="middle-left">
          <f-div width="320px">
          <f-search size="small" variant="round" placeholder="Enter search keyword"></f-search>
          </f-div>
        </f-div>
         <!--End : top-nav-left -->
		 <!--Start : top-nav-right -->
        <f-div data-f-id="top-nav-right" gap="large" width="hug-content">
          <f-div gap="small" width="hug-content">
            <f-button size="small" label="label" variant="curved"></f-button>
            <f-button
              size="small"
              label="label"
              variant="curved"
              state="neutral"
            ></f-button>
          </f-div>
          <f-div gap="small" width="hug-content">
            <f-icon-button
              icon="i-icon"
              variant="round"
              size="large"
              state="neutral"
              type="packed"
            ></f-icon-button>
            <f-icon-button
              icon="i-icon"
              variant="round"
              size="large"
              state="neutral"
              type="packed"
            ></f-icon-button>
            <f-icon-button
              icon="i-icon"
              variant="round"
              size="large"
              state="neutral"
              type="packed"
            ></f-icon-button>
          </f-div>
          <f-icon-button
            icon="i-user"
            size="small"
            state="neutral"
            id="profile-popover"
            @click=${toggle}
          ></f-icon-button>
          <f-popover
            size="small"
            @overlay-click=${toggle}
            .open=${args.open}
            target="#profile-popover"
          >
            <f-div direction="column" state="secondary">
              <f-div
                padding="medium"
                gap="small"
                border="small solid default bottom"
              >
                <f-pictogram source="i-user" variant="circle"></f-pictogram>
                <f-div direction="column">
                  <f-text size="x-small" state="secondary">Logged in as</f-text>
                  <f-text>no@email.com</f-text>
                </f-div>
                <f-div align="top-right">
                  <f-icon source="i-edit" state="secondary"></f-icon>
                </f-div>
              </f-div>
              <f-div
                padding="medium"
                gap="small"
                clickable
                state="default"
                .selected=${args.theme === "f-dark" ? "background" : "none"}
                @click=${() => setTheme("f-dark")}
              >
                <f-text>Dark theme</f-text>
                ${args.theme === "f-dark"
                  ? html`<f-icon source="i-tick" state="success"></f-icon>`
                  : ""}
              </f-div>
              <f-div
                padding="medium"
                gap="small"
                border="small solid default bottom"
                clickable
                .selected=${args.theme === "f-light" ? "background" : "none"}
                @click=${() => setTheme("f-light")}
              >
                <f-text>Light theme</f-text>
                ${args.theme === "f-light"
                  ? html`<f-icon source="i-tick" state="success"></f-icon>`
                  : ""}
              </f-div>
              <f-div padding="medium" gap="small" clickable>
                <f-text>Logout</f-text>
              </f-div>
            </f-div>
          </f-popover>
        </f-div>
         <!--End : top-nav-right -->
      </f-div>`;
    }}
  </Story>
</Canvas>

###### top-nav-04

<Canvas>
  <Story
    name="top-nav-04"
    args={{
      open: false,
      theme: "f-dark",
    }}
    parameters={{
      docs: {
        inlineStories: false,
        iframeHeight: 250,
      },
    }}
  >
    {(args) => {
      const [_, updateArgs] = useArgs();
      const toggle = (e, f) => {
        updateArgs({ open: !args.open });
      };
      const setTheme = (theme) => {
        ConfigUtil.setConfig({ theme });
        updateArgs({ ...args, theme });
      };
      return html`
	  ${unsafeHTML(popoverSampleSnippet)}
	  <f-div
        data-f-id="top-nav"
        padding="medium"
        gap="small"
        state="secondary"
        align="middle-left"
		height="hug-content"
		border="small solid default bottom"
      >
	   <!--Start : top-nav-left -->
        <f-div
          width="hug-content"
          align="middle-center"
          data-f-id="top-nav-left"
        >
          <f-icon source="p-cloudcover-dark" size="large"></f-icon>
        </f-div>
         <!--End : top-nav-left -->
		 <!--Start : top-nav-middle -->
        <f-div data-f-id="top-nav-middle" gap="small" align="middle-left">
          <f-div width="hug-content" gap="small">
            <f-button
              size="small"
              label="label"
              category="transparent"
              state="neutral"
            ></f-button>
            <f-button
              size="small"
              label="label"
              category="transparent"
              state="neutral"
            ></f-button>
            <f-button
              size="small"
              label="label"
              category="transparent"
              state="neutral"
            ></f-button>
            <f-button
              size="small"
              label="label"
              category="transparent"
              state="neutral"
            ></f-button>
          </f-div>
        </f-div>
         <!--End : top-nav-middle -->
		 <!--Start : top-nav-right -->
        <f-div data-f-id="top-nav-right" gap="large" width="hug-content">
            <f-div width="240px">
          <f-search size="small" variant="round" placeholder="Enter search keyword"></f-search>
          </f-div>
          <f-div gap="small" width="hug-content">
            <f-icon-button
              icon="i-icon"
              variant="round"
              size="large"
              state="neutral"
              type="packed"
            ></f-icon-button>
            <f-icon-button
              icon="i-icon"
              variant="round"
              size="large"
              state="neutral"
              type="packed"
            ></f-icon-button>
            <f-icon-button
              icon="i-icon"
              variant="round"
              size="large"
              state="neutral"
              type="packed"
            ></f-icon-button>
          </f-div>
          <f-icon-button
            icon="i-user"
            size="small"
            state="neutral"
            id="profile-popover"
            @click=${toggle}
          ></f-icon-button>
          <f-popover
            size="small"
            @overlay-click=${toggle}
            .open=${args.open}
            target="#profile-popover"
          >
            <f-div direction="column" state="secondary">
              <f-div
                padding="medium"
                gap="small"
                border="small solid default bottom"
              >
                <f-pictogram source="i-user" variant="circle"></f-pictogram>
                <f-div direction="column">
                  <f-text size="x-small" state="secondary">Logged in as</f-text>
                  <f-text>no@email.com</f-text>
                </f-div>
                <f-div align="top-right">
                  <f-icon source="i-edit" state="secondary"></f-icon>
                </f-div>
              </f-div>
              <f-div
                padding="medium"
                gap="small"
                clickable
                state="default"
                .selected=${args.theme === "f-dark" ? "background" : "none"}
                @click=${() => setTheme("f-dark")}
              >
                <f-text>Dark theme</f-text>
                ${args.theme === "f-dark"
                  ? html`<f-icon source="i-tick" state="success"></f-icon>`
                  : ""}
              </f-div>
              <f-div
                padding="medium"
                gap="small"
                border="small solid default bottom"
                clickable
                .selected=${args.theme === "f-light" ? "background" : "none"}
                @click=${() => setTheme("f-light")}
              >
                <f-text>Light theme</f-text>
                ${args.theme === "f-light"
                  ? html`<f-icon source="i-tick" state="success"></f-icon>`
                  : ""}
              </f-div>
              <f-div padding="medium" gap="small" clickable>
                <f-text>Logout</f-text>
              </f-div>
            </f-div>
          </f-popover>
        </f-div>
        <!--End : top-nav-right -->
      </f-div>`;
    }}
  </Story>
</Canvas>
